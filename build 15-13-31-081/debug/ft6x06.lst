ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"ft6x06.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Drivers/BSP/Components/ft6x06/ft6x06.c"
  19              		.section	.text.ft6x06_Reset,"ax",%progbits
  20              		.align	1
  21              		.global	ft6x06_Reset
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ft6x06_Reset:
  27              	.LVL0:
  28              	.LFB1:
   1:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
   2:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   3:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @file    ft6x06.c
   4:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @author  MCD Application Team
   5:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief   This file provides a set of functions needed to manage the FT6X06
   6:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *          IO Expander devices.
   7:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
   8:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @attention
   9:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  10:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  11:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  12:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * Redistribution and use in source and binary forms, with or without modification,
  13:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * are permitted provided that the following conditions are met:
  14:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  15:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *      this list of conditions and the following disclaimer.
  16:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  17:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *      this list of conditions and the following disclaimer in the documentation
  18:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *      and/or other materials provided with the distribution.
  19:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  20:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *      may be used to endorse or promote products derived from this software
  21:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *      without specific prior written permission.
  22:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  23:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  24:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  25:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  26:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  27:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  28:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  29:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  30:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 2


  31:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  32:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  33:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *
  34:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ******************************************************************************
  35:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  36:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  37:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Includes ------------------------------------------------------------------*/
  38:Drivers/BSP/Components/ft6x06/ft6x06.c **** #include "ft6x06.h"
  39:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  40:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup BSP
  41:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  42:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  43:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  44:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @addtogroup Component
  45:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  46:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  47:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  48:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6X06
  49:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  50:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  51:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  52:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private typedef -----------------------------------------------------------*/
  53:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  54:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6X06_Private_Defines FT6X06 Private Defines
  55:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  56:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  57:Drivers/BSP/Components/ft6x06/ft6x06.c **** #define FT6x06_MAX_INSTANCE  2
  58:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  59:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  60:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  61:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  62:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private macro -------------------------------------------------------------*/
  63:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  64:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup FT6X06_Private_Variables FT6X06 Private Variables
  65:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  66:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  67:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  68:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Touch screen driver structure initialization */
  69:Drivers/BSP/Components/ft6x06/ft6x06.c **** TS_DrvTypeDef ft6x06_ts_drv =
  70:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  71:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Init,
  72:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_ReadID,
  73:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_Reset,
  74:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  75:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Start,
  76:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DetectTouch,
  77:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_GetXY,
  78:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  79:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_EnableIT,
  80:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ClearIT,
  81:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_ITStatus,
  82:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT
  83:Drivers/BSP/Components/ft6x06/ft6x06.c **** };
  84:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  85:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* ft6x06 instances by address */
  86:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06[FT6x06_MAX_INSTANCE] = {0};
  87:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 3


  88:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Global ft6x06 handle */
  89:Drivers/BSP/Components/ft6x06/ft6x06.c **** static ft6x06_handle_TypeDef ft6x06_handle = { FT6206_I2C_NOT_INITIALIZED, 0, 0};
  90:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  91:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
  92:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
  93:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  94:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
  95:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6x06_Private_Function_Prototypes ft6x06 Private Function Prototypes
  96:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
  97:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
  98:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr);
  99:Drivers/BSP/Components/ft6x06/ft6x06.c **** /* Private functions prototypes-----------------------------------------------*/
 100:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 101:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 102:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
 103:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6206 Device address for communication on I2C Bus.
 104:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 105:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 106:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr);
 107:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
 108:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 109:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 110:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
 111:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6206 Device address for communication on I2C Bus.
 112:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 113:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 114:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr);
 115:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 116:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 117:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @}
 118:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 119:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 120:Drivers/BSP/Components/ft6x06/ft6x06.c **** /** @defgroup ft6x06_Private_Functions ft6x06 Private Functions
 121:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @{
 122:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 123:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 124:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 125:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Initialize the ft6x06 communication bus
 126:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         from MCU to FT6206 : ie I2C channel initialization (if required).
 127:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6206).
 128:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 129:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 130:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Init(uint16_t DeviceAddr)
 131:Drivers/BSP/Components/ft6x06/ft6x06.c **** {  
 132:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 133:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 134:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 135:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check if device instance already exists */
 136:Drivers/BSP/Components/ft6x06/ft6x06.c ****   instance = ft6x06_GetInstance(DeviceAddr);
 137:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 138:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* To prevent double initialization */
 139:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(instance == 0xFF)
 140:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 141:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Look for empty instance */
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****     empty = ft6x06_GetInstance(0);
 143:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 144:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(empty < FT6x06_MAX_INSTANCE)
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 4


 145:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 146:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Register the current device instance */
 147:Drivers/BSP/Components/ft6x06/ft6x06.c ****       ft6x06[empty] = DeviceAddr;
 148:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 149:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Initialize IO BUS layer */
 150:Drivers/BSP/Components/ft6x06/ft6x06.c ****       TS_IO_Init(); 
 151:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 152:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 153:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 154:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 155:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 156:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Software Reset the ft6x06.
 157:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : Not applicable to FT6206.
 158:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6206).
 159:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 160:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 161:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_Reset(uint16_t DeviceAddr)
 162:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  29              		.loc 1 162 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 163:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Do nothing */
 164:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* No software reset sequence available in FT6206 IC */
 165:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  34              		.loc 1 165 1 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE1:
  39              		.section	.text.ft6x06_TS_ITStatus,"ax",%progbits
  40              		.align	1
  41              		.global	ft6x06_TS_ITStatus
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  46              	ft6x06_TS_ITStatus:
  47              	.LVL1:
  48              	.LFB8:
 166:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 167:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 168:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Read the ft6x06 device ID, pre initialize I2C in case of need to be
 169:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         able to read the FT6206 device ID, and verify this is a FT6206.
 170:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: I2C FT6x06 Slave address.
 171:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval The Device ID (two bytes).
 172:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 173:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint16_t ft6x06_ReadID(uint16_t DeviceAddr)
 174:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 175:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 176:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Init();
 177:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 178:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Return the device ID value */
 179:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return (TS_IO_Read(DeviceAddr, FT6206_CHIP_ID_REG));
 180:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 181:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 182:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 183:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configures the touch Screen IC device to start detecting touches
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 5


 184:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         It goes through an internal calibration process (Hw calibration sequence of
 185:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         the touch screen).
 186:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address).
 187:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 188:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 189:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_Start(uint16_t DeviceAddr)
 190:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 191:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 192:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Hw Calibration sequence start : should be done once after each power up */
 193:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* This is called internal calibration of the touch screen                 */
 194:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Calibration(DeviceAddr);
 195:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif
 196:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Minimum static configuration of FT6206 */
 197:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_Configure(DeviceAddr);
 198:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 199:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* By default set FT6206 IC in Polling mode : no INT generation on FT6206 for new touch available
 200:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Note TS_INT is active low                                                                     
 201:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_TS_DisableIT(DeviceAddr);
 202:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 203:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 204:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 205:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Return if there is touches detected or not.
 206:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Try to detect new touches and forget the old ones (reset internal global
 207:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variables).
 208:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 209:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval : Number of active touches detected (can be 0, 1 or 2).
 210:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 211:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_DetectTouch(uint16_t DeviceAddr)
 212:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 213:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 214:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 215:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read register FT6206_TD_STAT_REG to check number of touches detection */
 216:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch = TS_IO_Read(DeviceAddr, FT6206_TD_STAT_REG);
 217:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 218:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(nbTouch > FT6206_MAX_DETECTABLE_TOUCH)
 220:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 221:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* If invalid number of touch detected, set it to zero */
 222:Drivers/BSP/Components/ft6x06/ft6x06.c ****     nbTouch = 0;
 223:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 224:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 225:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Update ft6x06 driver internal global : current number of active touches */
 226:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchNb = nbTouch;
 227:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 228:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Reset current active touch index on which to work on */
 229:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ft6x06_handle.currActiveTouchIdx = 0;
 230:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 231:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(nbTouch);
 232:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 233:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 234:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 235:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch screen X and Y positions values
 236:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Manage multi touch thanks to touch Index global
 237:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         variable 'ft6x06_handle.currActiveTouchIdx'.
 238:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 239:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  X: Pointer to X position value
 240:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  Y: Pointer to Y position value
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 6


 241:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 242:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 243:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetXY(uint16_t DeviceAddr, uint16_t *X, uint16_t *Y)
 244:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 245:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 246:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 247:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(ft6x06_handle.currActiveTouchIdx < ft6x06_handle.currActiveTouchNb)
 249:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(ft6x06_handle.currActiveTouchIdx)
 251:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 252:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 :    
 253:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_XH_REG; 
 254:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 255:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_XH_REG; 
 257:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 258:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 259:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 260:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 261:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 262:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 263:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read X and Y positions */
 264:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 265:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 266:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready X position to caller */
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *X = ((dataxy[0] & FT6206_MSB_MASK) << 8) | (dataxy[1] & FT6206_LSB_MASK);
 268:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 269:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Send back ready Y position to caller */
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     *Y = ((dataxy[2] & FT6206_MSB_MASK) << 8) | (dataxy[3] & FT6206_LSB_MASK);
 271:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ft6x06_handle.currActiveTouchIdx++;
 273:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 274:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 275:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 276:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 277:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6206 device to generate IT on given INT pin
 278:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 279:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6206).
 280:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 281:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 282:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_EnableIT(uint16_t DeviceAddr)
 283:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 284:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 285:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 286:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 287:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt trigger mode in FT6206_GMODE_REG */
 288:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 289:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 290:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 291:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 292:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Configure the FT6206 device to stop generating IT on the given INT pin
 293:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         connected to MCU as EXTI.
 294:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (Slave I2C address of FT6206).
 295:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 296:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 297:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_DisableIT(uint16_t DeviceAddr)
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 7


 298:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 299:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 300:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 301:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 302:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Set interrupt polling mode in FT6206_GMODE_REG */
 303:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_GMODE_REG, regValue);
 304:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 305:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 306:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 307:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get IT status from FT6206 interrupt status registers
 308:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU to know the detailed
 309:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         reason of the interrupt.
 310:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6206.
 311:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6206).
 312:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval TS interrupts status : always return 0 here
 313:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 314:Drivers/BSP/Components/ft6x06/ft6x06.c **** uint8_t ft6x06_TS_ITStatus(uint16_t DeviceAddr)
 315:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  49              		.loc 1 315 1 view -0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		@ link register save eliminated.
 316:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Always return 0 as feature not applicable to FT6206 */
 317:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return 0;
  54              		.loc 1 317 3 view .LVU3
 318:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  55              		.loc 1 318 1 is_stmt 0 view .LVU4
  56 0000 0020     		movs	r0, #0
  57              	.LVL2:
  58              		.loc 1 318 1 view .LVU5
  59 0002 7047     		bx	lr
  60              		.cfi_endproc
  61              	.LFE8:
  63              		.section	.text.ft6x06_TS_ClearIT,"ax",%progbits
  64              		.align	1
  65              		.global	ft6x06_TS_ClearIT
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  70              	ft6x06_TS_ClearIT:
  71              	.LVL3:
  72              	.LFB9:
 319:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 320:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 321:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Clear IT status in FT6206 interrupt status clear registers
 322:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         Should be called Following an EXTI coming to the MCU.
 323:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         @note : This feature is not applicable to FT6206.
 324:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6206).
 325:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None
 326:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 327:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_ClearIT(uint16_t DeviceAddr)
 328:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  73              		.loc 1 328 1 is_stmt 1 view -0
  74              		.cfi_startproc
  75              		@ args = 0, pretend = 0, frame = 0
  76              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 8


  77              		@ link register save eliminated.
 329:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing to be done here for FT6206 */
 330:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
  78              		.loc 1 330 1 view .LVU7
  79 0000 7047     		bx	lr
  80              		.cfi_endproc
  81              	.LFE9:
  83              		.section	.text.ft6x06_GetInstance,"ax",%progbits
  84              		.align	1
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
  89              	ft6x06_GetInstance:
  90              	.LVL4:
  91              	.LFB11:
 331:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 332:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**** NEW FEATURES enabled when Multi-touch support is enabled ****/
 333:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 334:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_MULTI_TOUCH_SUPPORTED == 1)
 335:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 336:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the last touch gesture identification (zoom, move up/down...).
 337:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6x06).
 338:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pGestureId : Pointer to get last touch gesture Identification.
 339:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 340:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 341:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetGestureID(uint16_t DeviceAddr, uint32_t * pGestureId)
 342:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 343:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData = 0;
 344:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 345:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_GEST_ID_REG);
 346:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 347:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * pGestureId = ucReadData;
 348:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 349:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 350:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 351:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Get the touch detailed informations on touch number 'touchIdx' (0..1)
 352:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         This touch detailed information contains :
 353:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - weight that was applied to this touch
 354:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - sub-area of the touch in the touch panel
 355:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         - event of linked to the touch (press down, lift up, ...)
 356:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus (I2C slave address of FT6x06).
 357:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  touchIdx : Passed index of the touch (0..1) on which we want to get the
 358:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *                    detailed information.
 359:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pWeight : Pointer to to get the weight information of 'touchIdx'.
 360:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pArea   : Pointer to to get the sub-area information of 'touchIdx'.
 361:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  pEvent  : Pointer to to get the event information of 'touchIdx'.
 362:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 363:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval None.
 364:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 365:Drivers/BSP/Components/ft6x06/ft6x06.c **** void ft6x06_TS_GetTouchInfo(uint16_t   DeviceAddr,
 366:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t   touchIdx,
 367:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pWeight,
 368:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pArea,
 369:Drivers/BSP/Components/ft6x06/ft6x06.c ****                             uint32_t * pEvent)
 370:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 371:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 372:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t dataxy[3];
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 9


 373:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 374:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(touchIdx < ft6x06_handle.currActiveTouchNb)
 375:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 376:Drivers/BSP/Components/ft6x06/ft6x06.c ****     switch(touchIdx)
 377:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 378:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 0 : 
 379:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P1_WEIGHT_REG;
 380:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 381:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 382:Drivers/BSP/Components/ft6x06/ft6x06.c ****     case 1 :
 383:Drivers/BSP/Components/ft6x06/ft6x06.c ****       regAddress = FT6206_P2_WEIGHT_REG;
 384:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 385:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 386:Drivers/BSP/Components/ft6x06/ft6x06.c ****     default :
 387:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 388:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 389:Drivers/BSP/Components/ft6x06/ft6x06.c ****     } /* end switch(touchIdx) */
 390:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 391:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Read weight, area and Event Id of touch index */
 392:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_ReadMultiple(DeviceAddr, regAddress, dataxy, sizeof(dataxy)); 
 393:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 394:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return weight of touch index */
 395:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pWeight = (dataxy[0] & FT6206_TOUCH_WEIGHT_MASK) >> FT6206_TOUCH_WEIGHT_SHIFT;
 396:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return area of touch index */
 397:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pArea = (dataxy[1] & FT6206_TOUCH_AREA_MASK) >> FT6206_TOUCH_AREA_SHIFT;
 398:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return Event Id  of touch index */
 399:Drivers/BSP/Components/ft6x06/ft6x06.c ****     * pEvent = (dataxy[2] & FT6206_TOUCH_EVT_FLAG_MASK) >> FT6206_TOUCH_EVT_FLAG_SHIFT;
 400:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 401:Drivers/BSP/Components/ft6x06/ft6x06.c ****   } /* of if(touchIdx < ft6x06_handle.currActiveTouchNb) */
 402:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 403:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 404:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_MULTI_TOUCH_SUPPORTED == 1 */
 405:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 406:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 407:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 408:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Start TouchScreen calibration phase
 409:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6206 Device address for communication on I2C Bus.
 410:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 411:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 412:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Calibration(uint16_t DeviceAddr)
 413:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 414:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t nbAttempt = 0;
 415:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t ucReadData;
 416:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t regValue;
 417:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 418:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t bEndCalibration = 0;
 419:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 420:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* >> Calibration sequence start */
 421:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 422:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Switch FT6206 back to factory mode to calibrate */
 423:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_DEV_MODE_FACTORY & FT6206_DEV_MODE_MASK) << FT6206_DEV_MODE_SHIFT;
 424:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_DEV_MODE_REG, regValue); /* 0x40 */
 425:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 426:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Read back the same register FT6206_DEV_MODE_REG */
 427:Drivers/BSP/Components/ft6x06/ft6x06.c ****   ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 428:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 429:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 10


 430:Drivers/BSP/Components/ft6x06/ft6x06.c ****   if(((ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_SHIFT) != F
 431:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 432:Drivers/BSP/Components/ft6x06/ft6x06.c ****     /* Return error to caller */
 433:Drivers/BSP/Components/ft6x06/ft6x06.c ****     return(FT6206_STATUS_NOT_OK);
 434:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 435:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 436:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Start calibration command */
 437:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Write(DeviceAddr, FT6206_TD_STAT_REG, 0x04);
 438:Drivers/BSP/Components/ft6x06/ft6x06.c ****   TS_IO_Delay(300); /* Wait 300 ms */
 439:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 440:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* 100 attempts to wait switch from factory mode (calibration) to working mode */
 441:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for (nbAttempt=0; ((nbAttempt < 100) && (!bEndCalibration)) ; nbAttempt++)
 442:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 443:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = TS_IO_Read(DeviceAddr, FT6206_DEV_MODE_REG);
 444:Drivers/BSP/Components/ft6x06/ft6x06.c ****     ucReadData = (ucReadData & (FT6206_DEV_MODE_MASK << FT6206_DEV_MODE_SHIFT)) >> FT6206_DEV_MODE_
 445:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ucReadData == FT6206_DEV_MODE_WORKING)
 446:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 447:Drivers/BSP/Components/ft6x06/ft6x06.c ****       /* Auto Switch to FT6206_DEV_MODE_WORKING : means calibration have ended */
 448:Drivers/BSP/Components/ft6x06/ft6x06.c ****       bEndCalibration = 1; /* exit for loop */
 449:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 450:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 451:Drivers/BSP/Components/ft6x06/ft6x06.c ****     TS_IO_Delay(200); /* Wait 200 ms */
 452:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 453:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 454:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Calibration sequence end << */
 455:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 456:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 457:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 458:Drivers/BSP/Components/ft6x06/ft6x06.c **** #endif /* TS_AUTO_CALIBRATION_SUPPORTED == 1 */
 459:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 460:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 461:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Basic static configuration of TouchScreen
 462:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: FT6206 Device address for communication on I2C Bus.
 463:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Status FT6206_STATUS_OK or FT6206_STATUS_NOT_OK.
 464:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 465:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint32_t ft6x06_TS_Configure(uint16_t DeviceAddr)
 466:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
 467:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint32_t status = FT6206_STATUS_OK;
 468:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 469:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Nothing special to be done for FT6206 */
 470:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 471:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return(status);
 472:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 473:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 474:Drivers/BSP/Components/ft6x06/ft6x06.c **** /**
 475:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @brief  Check if the device instance of the selected address is already registered
 476:Drivers/BSP/Components/ft6x06/ft6x06.c ****   *         and return its index  
 477:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @param  DeviceAddr: Device address on communication Bus.
 478:Drivers/BSP/Components/ft6x06/ft6x06.c ****   * @retval Index of the device instance if registered, 0xFF if not.
 479:Drivers/BSP/Components/ft6x06/ft6x06.c ****   */
 480:Drivers/BSP/Components/ft6x06/ft6x06.c **** static uint8_t ft6x06_GetInstance(uint16_t DeviceAddr)
 481:Drivers/BSP/Components/ft6x06/ft6x06.c **** {
  92              		.loc 1 481 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  96              		@ link register save eliminated.
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 11


  97              		.loc 1 481 1 is_stmt 0 view .LVU9
  98 0000 0346     		mov	r3, r0
 482:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t idx = 0;
  99              		.loc 1 482 3 is_stmt 1 view .LVU10
 100              	.LVL5:
 483:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 484:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Check all the registered instances */
 485:Drivers/BSP/Components/ft6x06/ft6x06.c ****   for(idx = 0; idx < FT6x06_MAX_INSTANCE ; idx ++)
 101              		.loc 1 485 3 view .LVU11
 102              		.loc 1 485 11 is_stmt 0 view .LVU12
 103 0002 0020     		movs	r0, #0
 104              	.LVL6:
 105              	.L5:
 106              		.loc 1 485 20 is_stmt 1 discriminator 1 view .LVU13
 107 0004 0128     		cmp	r0, #1
 108 0006 06D8     		bhi	.L8
 486:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 487:Drivers/BSP/Components/ft6x06/ft6x06.c ****     if(ft6x06[idx] == DeviceAddr)
 109              		.loc 1 487 5 view .LVU14
 110              		.loc 1 487 14 is_stmt 0 view .LVU15
 111 0008 044A     		ldr	r2, .L9
 112 000a 125C     		ldrb	r2, [r2, r0]	@ zero_extendqisi2
 113              		.loc 1 487 7 view .LVU16
 114 000c 9A42     		cmp	r2, r3
 115 000e 03D0     		beq	.L6
 485:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 116              		.loc 1 485 48 is_stmt 1 discriminator 2 view .LVU17
 117 0010 0130     		adds	r0, r0, #1
 118              	.LVL7:
 485:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 119              		.loc 1 485 48 is_stmt 0 discriminator 2 view .LVU18
 120 0012 C0B2     		uxtb	r0, r0
 121              	.LVL8:
 485:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 122              		.loc 1 485 48 discriminator 2 view .LVU19
 123 0014 F6E7     		b	.L5
 124              	.L8:
 488:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 489:Drivers/BSP/Components/ft6x06/ft6x06.c ****       return idx; 
 490:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 491:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 492:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 493:Drivers/BSP/Components/ft6x06/ft6x06.c ****   return 0xFF;
 125              		.loc 1 493 10 view .LVU20
 126 0016 FF20     		movs	r0, #255
 127              	.LVL9:
 128              	.L6:
 494:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 129              		.loc 1 494 1 view .LVU21
 130 0018 7047     		bx	lr
 131              	.L10:
 132 001a 00BF     		.align	2
 133              	.L9:
 134 001c 00000000 		.word	ft6x06
 135              		.cfi_endproc
 136              	.LFE11:
 138              		.section	.text.ft6x06_Init,"ax",%progbits
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 12


 139              		.align	1
 140              		.global	ft6x06_Init
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	ft6x06_Init:
 146              	.LVL10:
 147              	.LFB0:
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 148              		.loc 1 131 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 131:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t instance;
 152              		.loc 1 131 1 is_stmt 0 view .LVU23
 153 0000 10B5     		push	{r4, lr}
 154              		.cfi_def_cfa_offset 8
 155              		.cfi_offset 4, -8
 156              		.cfi_offset 14, -4
 157 0002 0446     		mov	r4, r0
 132:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t empty;
 158              		.loc 1 132 3 is_stmt 1 view .LVU24
 133:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 159              		.loc 1 133 3 view .LVU25
 136:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 160              		.loc 1 136 3 view .LVU26
 136:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 161              		.loc 1 136 14 is_stmt 0 view .LVU27
 162 0004 FFF7FEFF 		bl	ft6x06_GetInstance
 163              	.LVL11:
 139:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 164              		.loc 1 139 3 is_stmt 1 view .LVU28
 139:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 165              		.loc 1 139 5 is_stmt 0 view .LVU29
 166 0008 FF28     		cmp	r0, #255
 167 000a 00D0     		beq	.L14
 168              	.LVL12:
 169              	.L11:
 153:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 170              		.loc 1 153 1 view .LVU30
 171 000c 10BD     		pop	{r4, pc}
 172              	.LVL13:
 173              	.L14:
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 174              		.loc 1 142 5 is_stmt 1 view .LVU31
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 175              		.loc 1 142 13 is_stmt 0 view .LVU32
 176 000e 0020     		movs	r0, #0
 177              	.LVL14:
 142:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 178              		.loc 1 142 13 view .LVU33
 179 0010 FFF7FEFF 		bl	ft6x06_GetInstance
 180              	.LVL15:
 144:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 181              		.loc 1 144 5 is_stmt 1 view .LVU34
 144:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 182              		.loc 1 144 7 is_stmt 0 view .LVU35
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 13


 183 0014 0128     		cmp	r0, #1
 184 0016 F9D8     		bhi	.L11
 147:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 185              		.loc 1 147 7 is_stmt 1 view .LVU36
 147:Drivers/BSP/Components/ft6x06/ft6x06.c ****       
 186              		.loc 1 147 21 is_stmt 0 view .LVU37
 187 0018 024B     		ldr	r3, .L15
 188 001a 1C54     		strb	r4, [r3, r0]
 150:Drivers/BSP/Components/ft6x06/ft6x06.c ****     }
 189              		.loc 1 150 7 is_stmt 1 view .LVU38
 190 001c FFF7FEFF 		bl	TS_IO_Init
 191              	.LVL16:
 153:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 192              		.loc 1 153 1 is_stmt 0 view .LVU39
 193 0020 F4E7     		b	.L11
 194              	.L16:
 195 0022 00BF     		.align	2
 196              	.L15:
 197 0024 00000000 		.word	ft6x06
 198              		.cfi_endproc
 199              	.LFE0:
 201              		.section	.text.ft6x06_ReadID,"ax",%progbits
 202              		.align	1
 203              		.global	ft6x06_ReadID
 204              		.syntax unified
 205              		.thumb
 206              		.thumb_func
 208              	ft6x06_ReadID:
 209              	.LVL17:
 210              	.LFB2:
 174:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 211              		.loc 1 174 1 is_stmt 1 view -0
 212              		.cfi_startproc
 213              		@ args = 0, pretend = 0, frame = 0
 214              		@ frame_needed = 0, uses_anonymous_args = 0
 174:Drivers/BSP/Components/ft6x06/ft6x06.c ****   /* Initialize I2C link if needed */
 215              		.loc 1 174 1 is_stmt 0 view .LVU41
 216 0000 10B5     		push	{r4, lr}
 217              		.cfi_def_cfa_offset 8
 218              		.cfi_offset 4, -8
 219              		.cfi_offset 14, -4
 220 0002 0446     		mov	r4, r0
 176:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 221              		.loc 1 176 3 is_stmt 1 view .LVU42
 222 0004 FFF7FEFF 		bl	TS_IO_Init
 223              	.LVL18:
 179:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 224              		.loc 1 179 3 view .LVU43
 179:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 225              		.loc 1 179 11 is_stmt 0 view .LVU44
 226 0008 A821     		movs	r1, #168
 227 000a E0B2     		uxtb	r0, r4
 228 000c FFF7FEFF 		bl	TS_IO_Read
 229              	.LVL19:
 180:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 230              		.loc 1 180 1 view .LVU45
 231 0010 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 14


 180:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 232              		.loc 1 180 1 view .LVU46
 233              		.cfi_endproc
 234              	.LFE2:
 236              		.section	.text.ft6x06_TS_DetectTouch,"ax",%progbits
 237              		.align	1
 238              		.global	ft6x06_TS_DetectTouch
 239              		.syntax unified
 240              		.thumb
 241              		.thumb_func
 243              	ft6x06_TS_DetectTouch:
 244              	.LVL20:
 245              	.LFB4:
 212:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 246              		.loc 1 212 1 is_stmt 1 view -0
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 8
 249              		@ frame_needed = 0, uses_anonymous_args = 0
 212:Drivers/BSP/Components/ft6x06/ft6x06.c ****   volatile uint8_t nbTouch = 0;
 250              		.loc 1 212 1 is_stmt 0 view .LVU48
 251 0000 00B5     		push	{lr}
 252              		.cfi_def_cfa_offset 4
 253              		.cfi_offset 14, -4
 254 0002 83B0     		sub	sp, sp, #12
 255              		.cfi_def_cfa_offset 16
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 256              		.loc 1 213 3 is_stmt 1 view .LVU49
 213:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 257              		.loc 1 213 20 is_stmt 0 view .LVU50
 258 0004 0023     		movs	r3, #0
 259 0006 8DF80730 		strb	r3, [sp, #7]
 216:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 260              		.loc 1 216 3 is_stmt 1 view .LVU51
 216:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 261              		.loc 1 216 13 is_stmt 0 view .LVU52
 262 000a 0221     		movs	r1, #2
 263 000c C0B2     		uxtb	r0, r0
 264              	.LVL21:
 216:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 265              		.loc 1 216 13 view .LVU53
 266 000e FFF7FEFF 		bl	TS_IO_Read
 267              	.LVL22:
 216:Drivers/BSP/Components/ft6x06/ft6x06.c ****   nbTouch &= FT6206_TD_STAT_MASK;
 268              		.loc 1 216 11 discriminator 1 view .LVU54
 269 0012 8DF80700 		strb	r0, [sp, #7]
 217:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 270              		.loc 1 217 3 is_stmt 1 view .LVU55
 217:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 271              		.loc 1 217 11 is_stmt 0 view .LVU56
 272 0016 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 273 001a 03F00F03 		and	r3, r3, #15
 274 001e 8DF80730 		strb	r3, [sp, #7]
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 275              		.loc 1 219 3 is_stmt 1 view .LVU57
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 276              		.loc 1 219 14 is_stmt 0 view .LVU58
 277 0022 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 15


 278 0026 DBB2     		uxtb	r3, r3
 219:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 279              		.loc 1 219 5 view .LVU59
 280 0028 022B     		cmp	r3, #2
 281 002a 02D9     		bls	.L20
 222:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 282              		.loc 1 222 5 is_stmt 1 view .LVU60
 222:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 283              		.loc 1 222 13 is_stmt 0 view .LVU61
 284 002c 0023     		movs	r3, #0
 285 002e 8DF80730 		strb	r3, [sp, #7]
 286              	.L20:
 226:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 287              		.loc 1 226 3 is_stmt 1 view .LVU62
 226:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 288              		.loc 1 226 35 is_stmt 0 view .LVU63
 289 0032 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 290 0036 044B     		ldr	r3, .L22
 291 0038 5A70     		strb	r2, [r3, #1]
 229:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 292              		.loc 1 229 3 is_stmt 1 view .LVU64
 229:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 293              		.loc 1 229 36 is_stmt 0 view .LVU65
 294 003a 0022     		movs	r2, #0
 295 003c 9A70     		strb	r2, [r3, #2]
 231:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 296              		.loc 1 231 3 is_stmt 1 view .LVU66
 231:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 297              		.loc 1 231 9 is_stmt 0 view .LVU67
 298 003e 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 232:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 299              		.loc 1 232 1 view .LVU68
 300 0042 03B0     		add	sp, sp, #12
 301              		.cfi_def_cfa_offset 4
 302              		@ sp needed
 303 0044 5DF804FB 		ldr	pc, [sp], #4
 304              	.L23:
 305              		.align	2
 306              	.L22:
 307 0048 00000000 		.word	ft6x06_handle
 308              		.cfi_endproc
 309              	.LFE4:
 311              		.section	.text.ft6x06_TS_GetXY,"ax",%progbits
 312              		.align	1
 313              		.global	ft6x06_TS_GetXY
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 318              	ft6x06_TS_GetXY:
 319              	.LVL23:
 320              	.LFB5:
 244:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
 321              		.loc 1 244 1 is_stmt 1 view -0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 8
 324              		@ frame_needed = 0, uses_anonymous_args = 0
 244:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regAddress = 0;
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 16


 325              		.loc 1 244 1 is_stmt 0 view .LVU70
 326 0000 30B5     		push	{r4, r5, lr}
 327              		.cfi_def_cfa_offset 12
 328              		.cfi_offset 4, -12
 329              		.cfi_offset 5, -8
 330              		.cfi_offset 14, -4
 331 0002 83B0     		sub	sp, sp, #12
 332              		.cfi_def_cfa_offset 24
 333 0004 1446     		mov	r4, r2
 245:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t  dataxy[4];
 334              		.loc 1 245 3 is_stmt 1 view .LVU71
 335              	.LVL24:
 246:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 336              		.loc 1 246 3 view .LVU72
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 337              		.loc 1 248 3 view .LVU73
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 338              		.loc 1 248 19 is_stmt 0 view .LVU74
 339 0006 164B     		ldr	r3, .L30
 340 0008 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 341              	.LVL25:
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 342              		.loc 1 248 54 view .LVU75
 343 000a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 248:Drivers/BSP/Components/ft6x06/ft6x06.c ****   {
 344              		.loc 1 248 5 view .LVU76
 345 000c 9A42     		cmp	r2, r3
 346 000e 22D2     		bcs	.L24
 347 0010 0D46     		mov	r5, r1
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 348              		.loc 1 250 5 is_stmt 1 view .LVU77
 349 0012 1AB1     		cbz	r2, .L27
 350 0014 012A     		cmp	r2, #1
 351 0016 20D1     		bne	.L28
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 352              		.loc 1 256 18 is_stmt 0 view .LVU78
 353 0018 0921     		movs	r1, #9
 354              	.LVL26:
 256:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 355              		.loc 1 256 18 view .LVU79
 356 001a 00E0     		b	.L26
 357              	.LVL27:
 358              	.L27:
 253:Drivers/BSP/Components/ft6x06/ft6x06.c ****       break;
 359              		.loc 1 253 18 view .LVU80
 360 001c 0321     		movs	r1, #3
 361              	.LVL28:
 362              	.L26:
 264:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 363              		.loc 1 264 5 is_stmt 1 view .LVU81
 364 001e 0423     		movs	r3, #4
 365 0020 0DEB0302 		add	r2, sp, r3
 366 0024 C0B2     		uxtb	r0, r0
 367              	.LVL29:
 264:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 368              		.loc 1 264 5 is_stmt 0 view .LVU82
 369 0026 FFF7FEFF 		bl	TS_IO_ReadMultiple
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 17


 370              	.LVL30:
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 371              		.loc 1 267 5 is_stmt 1 view .LVU83
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 372              		.loc 1 267 18 is_stmt 0 view .LVU84
 373 002a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 374              		.loc 1 267 41 view .LVU85
 375 002e 1B02     		lsls	r3, r3, #8
 376 0030 03F47063 		and	r3, r3, #3840
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 377              		.loc 1 267 56 view .LVU86
 378 0034 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 379              		.loc 1 267 47 view .LVU87
 380 0038 1343     		orrs	r3, r3, r2
 267:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 381              		.loc 1 267 8 view .LVU88
 382 003a 2B80     		strh	r3, [r5]	@ movhi
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 383              		.loc 1 270 5 is_stmt 1 view .LVU89
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 384              		.loc 1 270 18 is_stmt 0 view .LVU90
 385 003c 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 386              		.loc 1 270 41 view .LVU91
 387 0040 1B02     		lsls	r3, r3, #8
 388 0042 03F47063 		and	r3, r3, #3840
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 389              		.loc 1 270 56 view .LVU92
 390 0046 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 391              		.loc 1 270 47 view .LVU93
 392 004a 1343     		orrs	r3, r3, r2
 270:Drivers/BSP/Components/ft6x06/ft6x06.c ****     
 393              		.loc 1 270 8 view .LVU94
 394 004c 2380     		strh	r3, [r4]	@ movhi
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 395              		.loc 1 272 5 is_stmt 1 view .LVU95
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 396              		.loc 1 272 18 is_stmt 0 view .LVU96
 397 004e 044A     		ldr	r2, .L30
 398 0050 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 272:Drivers/BSP/Components/ft6x06/ft6x06.c ****   }
 399              		.loc 1 272 37 view .LVU97
 400 0052 0133     		adds	r3, r3, #1
 401 0054 9370     		strb	r3, [r2, #2]
 402              	.LVL31:
 403              	.L24:
 274:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 404              		.loc 1 274 1 view .LVU98
 405 0056 03B0     		add	sp, sp, #12
 406              		.cfi_remember_state
 407              		.cfi_def_cfa_offset 12
 408              		@ sp needed
 409 0058 30BD     		pop	{r4, r5, pc}
 410              	.LVL32:
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 18


 411              	.L28:
 412              		.cfi_restore_state
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 413              		.loc 1 250 5 view .LVU99
 414 005a 0021     		movs	r1, #0
 415              	.LVL33:
 250:Drivers/BSP/Components/ft6x06/ft6x06.c ****     {
 416              		.loc 1 250 5 view .LVU100
 417 005c DFE7     		b	.L26
 418              	.L31:
 419 005e 00BF     		.align	2
 420              	.L30:
 421 0060 00000000 		.word	ft6x06_handle
 422              		.cfi_endproc
 423              	.LFE5:
 425              		.section	.text.ft6x06_TS_EnableIT,"ax",%progbits
 426              		.align	1
 427              		.global	ft6x06_TS_EnableIT
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 432              	ft6x06_TS_EnableIT:
 433              	.LVL34:
 434              	.LFB6:
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 435              		.loc 1 283 1 is_stmt 1 view -0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 0
 438              		@ frame_needed = 0, uses_anonymous_args = 0
 283:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 439              		.loc 1 283 1 is_stmt 0 view .LVU102
 440 0000 08B5     		push	{r3, lr}
 441              		.cfi_def_cfa_offset 8
 442              		.cfi_offset 3, -8
 443              		.cfi_offset 14, -4
 284:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_TRIGGER & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 444              		.loc 1 284 3 is_stmt 1 view .LVU103
 445              	.LVL35:
 285:Drivers/BSP/Components/ft6x06/ft6x06.c ****   
 446              		.loc 1 285 3 view .LVU104
 288:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 447              		.loc 1 288 3 view .LVU105
 448 0002 0122     		movs	r2, #1
 449 0004 A421     		movs	r1, #164
 450 0006 C0B2     		uxtb	r0, r0
 451              	.LVL36:
 288:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 452              		.loc 1 288 3 is_stmt 0 view .LVU106
 453 0008 FFF7FEFF 		bl	TS_IO_Write
 454              	.LVL37:
 289:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 455              		.loc 1 289 1 view .LVU107
 456 000c 08BD     		pop	{r3, pc}
 457              		.cfi_endproc
 458              	.LFE6:
 460              		.section	.text.ft6x06_TS_DisableIT,"ax",%progbits
 461              		.align	1
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 19


 462              		.global	ft6x06_TS_DisableIT
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 467              	ft6x06_TS_DisableIT:
 468              	.LVL38:
 469              	.LFB7:
 298:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 470              		.loc 1 298 1 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 298:Drivers/BSP/Components/ft6x06/ft6x06.c ****   uint8_t regValue = 0;
 474              		.loc 1 298 1 is_stmt 0 view .LVU109
 475 0000 08B5     		push	{r3, lr}
 476              		.cfi_def_cfa_offset 8
 477              		.cfi_offset 3, -8
 478              		.cfi_offset 14, -4
 299:Drivers/BSP/Components/ft6x06/ft6x06.c ****   regValue = (FT6206_G_MODE_INTERRUPT_POLLING & (FT6206_G_MODE_INTERRUPT_MASK >> FT6206_G_MODE_INTE
 479              		.loc 1 299 3 is_stmt 1 view .LVU110
 480              	.LVL39:
 300:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 481              		.loc 1 300 3 view .LVU111
 303:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 482              		.loc 1 303 3 view .LVU112
 483 0002 0022     		movs	r2, #0
 484 0004 A421     		movs	r1, #164
 485 0006 C0B2     		uxtb	r0, r0
 486              	.LVL40:
 303:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 487              		.loc 1 303 3 is_stmt 0 view .LVU113
 488 0008 FFF7FEFF 		bl	TS_IO_Write
 489              	.LVL41:
 304:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 490              		.loc 1 304 1 view .LVU114
 491 000c 08BD     		pop	{r3, pc}
 492              		.cfi_endproc
 493              	.LFE7:
 495              		.section	.text.ft6x06_TS_Start,"ax",%progbits
 496              		.align	1
 497              		.global	ft6x06_TS_Start
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 502              	ft6x06_TS_Start:
 503              	.LVL42:
 504              	.LFB3:
 190:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 505              		.loc 1 190 1 is_stmt 1 view -0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 0
 508              		@ frame_needed = 0, uses_anonymous_args = 0
 190:Drivers/BSP/Components/ft6x06/ft6x06.c **** #if (TS_AUTO_CALIBRATION_SUPPORTED == 1)
 509              		.loc 1 190 1 is_stmt 0 view .LVU116
 510 0000 08B5     		push	{r3, lr}
 511              		.cfi_def_cfa_offset 8
 512              		.cfi_offset 3, -8
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 20


 513              		.cfi_offset 14, -4
 197:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 514              		.loc 1 197 3 is_stmt 1 view .LVU117
 201:Drivers/BSP/Components/ft6x06/ft6x06.c **** }
 515              		.loc 1 201 3 view .LVU118
 516 0002 FFF7FEFF 		bl	ft6x06_TS_DisableIT
 517              	.LVL43:
 202:Drivers/BSP/Components/ft6x06/ft6x06.c **** 
 518              		.loc 1 202 1 is_stmt 0 view .LVU119
 519 0006 08BD     		pop	{r3, pc}
 520              		.cfi_endproc
 521              	.LFE3:
 523              		.section	.bss.ft6x06_handle,"aw",%nobits
 524              		.align	2
 527              	ft6x06_handle:
 528 0000 000000   		.space	3
 529              		.global	ft6x06
 530              		.section	.bss.ft6x06,"aw",%nobits
 531              		.align	2
 534              	ft6x06:
 535 0000 0000     		.space	2
 536              		.global	ft6x06_ts_drv
 537              		.section	.data.ft6x06_ts_drv,"aw"
 538              		.align	2
 541              	ft6x06_ts_drv:
 542 0000 00000000 		.word	ft6x06_Init
 543 0004 00000000 		.word	ft6x06_ReadID
 544 0008 00000000 		.word	ft6x06_Reset
 545 000c 00000000 		.word	ft6x06_TS_Start
 546 0010 00000000 		.word	ft6x06_TS_DetectTouch
 547 0014 00000000 		.word	ft6x06_TS_GetXY
 548 0018 00000000 		.word	ft6x06_TS_EnableIT
 549 001c 00000000 		.word	ft6x06_TS_ClearIT
 550 0020 00000000 		.word	ft6x06_TS_ITStatus
 551 0024 00000000 		.word	ft6x06_TS_DisableIT
 552              		.text
 553              	.Letext0:
 554              		.file 2 "/Users/killian/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/@
 555              		.file 3 "/Users/killian/Library/Application Support/Code/User/globalStorage/bmd.stm32-for-vscode/@
 556              		.file 4 "Drivers/BSP/Components/ft6x06/../Common/ts.h"
 557              		.file 5 "Drivers/BSP/Components/ft6x06/ft6x06.h"
ARM GAS  /var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 ft6x06.c
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:20     .text.ft6x06_Reset:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:26     .text.ft6x06_Reset:00000000 ft6x06_Reset
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:40     .text.ft6x06_TS_ITStatus:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:46     .text.ft6x06_TS_ITStatus:00000000 ft6x06_TS_ITStatus
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:64     .text.ft6x06_TS_ClearIT:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:70     .text.ft6x06_TS_ClearIT:00000000 ft6x06_TS_ClearIT
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:84     .text.ft6x06_GetInstance:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:89     .text.ft6x06_GetInstance:00000000 ft6x06_GetInstance
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:134    .text.ft6x06_GetInstance:0000001c $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:534    .bss.ft6x06:00000000 ft6x06
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:139    .text.ft6x06_Init:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:145    .text.ft6x06_Init:00000000 ft6x06_Init
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:197    .text.ft6x06_Init:00000024 $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:202    .text.ft6x06_ReadID:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:208    .text.ft6x06_ReadID:00000000 ft6x06_ReadID
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:237    .text.ft6x06_TS_DetectTouch:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:243    .text.ft6x06_TS_DetectTouch:00000000 ft6x06_TS_DetectTouch
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:307    .text.ft6x06_TS_DetectTouch:00000048 $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:527    .bss.ft6x06_handle:00000000 ft6x06_handle
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:312    .text.ft6x06_TS_GetXY:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:318    .text.ft6x06_TS_GetXY:00000000 ft6x06_TS_GetXY
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:421    .text.ft6x06_TS_GetXY:00000060 $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:426    .text.ft6x06_TS_EnableIT:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:432    .text.ft6x06_TS_EnableIT:00000000 ft6x06_TS_EnableIT
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:461    .text.ft6x06_TS_DisableIT:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:467    .text.ft6x06_TS_DisableIT:00000000 ft6x06_TS_DisableIT
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:496    .text.ft6x06_TS_Start:00000000 $t
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:502    .text.ft6x06_TS_Start:00000000 ft6x06_TS_Start
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:524    .bss.ft6x06_handle:00000000 $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:531    .bss.ft6x06:00000000 $d
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:541    .data.ft6x06_ts_drv:00000000 ft6x06_ts_drv
/var/folders/n6/c271nzx11xl4r4_m7sqjlt0m0000gn/T//ccql4fjd.s:538    .data.ft6x06_ts_drv:00000000 $d

UNDEFINED SYMBOLS
TS_IO_Init
TS_IO_Read
TS_IO_ReadMultiple
TS_IO_Write
